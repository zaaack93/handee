var e={};function t(t,o){o=o||{};var a=function(e){return Array.prototype.slice.call(e.querySelectorAll("[tabindex],[draggable],a[href],area,button:enabled,input:not([type=hidden]):enabled,object,select:enabled,textarea:enabled")).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}(t),s=o.elementToFocus||t,r=a[0],c=a[a.length-1];n(),e.focusin=function(n){t===n.target||t.contains(n.target)||r.focus(),n.target!==t&&n.target!==c&&n.target!==r||document.addEventListener("keydown",e.keydown)},e.focusout=function(){document.removeEventListener("keydown",e.keydown)},e.keydown=function(e){9===e.keyCode&&(e.target!==c||e.shiftKey||(e.preventDefault(),r.focus()),e.target!==t&&e.target!==r||!e.shiftKey||(e.preventDefault(),c.focus()))},document.addEventListener("focusout",e.focusout),document.addEventListener("focusin",e.focusin),function(e,t){t=t||{};var n=e.tabIndex;e.tabIndex=-1,e.dataset.tabIndex=n,e.focus(),void 0!==t.className&&e.classList.add(t.className),e.addEventListener("blur",(function o(a){a.target.removeEventListener(a.type,o),e.tabIndex=n,delete e.dataset.tabIndex,void 0!==t.className&&e.classList.remove(t.className)}))}(s,o)}function n(){document.removeEventListener("focusin",e.focusin),document.removeEventListener("focusout",e.focusout),document.removeEventListener("keydown",e.keydown)}export{n as r,t};
